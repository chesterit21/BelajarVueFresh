import{j as g,b as f}from"../../bootstrapVueApp/bootstrapVueApp/bootstrapVueApp-DvfoLQFh.js";import{g as b}from"../../httpClient/httpClient/httpClient-5Nx-ROx3.js";import{a as d,b as _}from"../../primevue/primevue/primevue-CM3mN2LR.js";import{r as v,k as p,q as u,v as i,ag as s,b5 as m,Z as h}from"../../vendor/vendor/vendor-ODBFGTB4.js";import{_ as M}from"../../_plugin-vue_export-helper/_plugin-vue_export-helper/_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                             */async function S({page:e=0,rows:r=10,sortField:n="",sortOrder:t=1,nama:o="",alamat:a="",email:l=""}){return await b("/Member/GetMember",{params:{page:e,size:r,sortField:n,sortOrder:t,nama:o,alamat:a,email:l}})}const V={class:"p-grid p-fluid mb-3"},F={class:"p-col-12 p-md-3"},w={class:"p-col-12 p-md-3"},C={class:"p-col-12 p-md-3"},D={class:"p-col-12 p-md-3"},E={__name:"SearchMemberForm",emits:["search"],setup(e,{emit:r}){const n=r,t=v({nama:"",alamat:"",email:""});return(o,a)=>(u(),p("div",V,[i("div",F,[s(m(d),{modelValue:t.value.nama,"onUpdate:modelValue":a[0]||(a[0]=l=>t.value.nama=l),placeholder:"Nama"},null,8,["modelValue"])]),i("div",w,[s(m(d),{modelValue:t.value.alamat,"onUpdate:modelValue":a[1]||(a[1]=l=>t.value.alamat=l),placeholder:"Alamat"},null,8,["modelValue"])]),i("div",C,[s(m(d),{modelValue:t.value.email,"onUpdate:modelValue":a[2]||(a[2]=l=>t.value.email=l),placeholder:"Email"},null,8,["modelValue"])]),i("div",D,[s(m(_),{label:"Cari",icon:"pi pi-search",onClick:a[3]||(a[3]=l=>n("search",t.value))})])]))}},P={name:"IndexTemplate",components:{BaseTable:g,SearchMemberForm:E},data(){return{columns:[{field:"id",header:"ID"},{field:"nama",header:"Nama"},{field:"alamat",header:"Alamat"},{field:"tglLahir",header:"Tgl.Lahir"},{field:"email",header:"Email"}],members:[],loading:!1,total:0,search:{nama:"",alamat:"",email:""},pagination:{page:0,rows:10,first:0,sortField:"",sortOrder:1}}},mounted(){this.loadMembers()},methods:{async loadMembers(){this.loading=!0;try{const e=await S({...this.pagination,...this.search});this.members=Array.isArray(e.data)?e.data:[],this.total=e.total||0}catch(e){console.error("Failed to load members:",e)}finally{this.loading=!1}},handlePage({page:e,rows:r}){this.pagination.page=e,this.pagination.rows=r,this.pagination.first=e*r,this.loadMembers()},handleSort({sortField:e,sortOrder:r}){this.pagination.sortField=e,this.pagination.sortOrder=r,this.loadMembers()},handleSearch(e){this.search={...e},this.pagination.page=0,this.pagination.first=0,this.loadMembers()},handleEdit(e){console.log("Edit member with ID:",e)},handleDelete(e){console.log("Delete member with ID:",e)}}},y={class:"p-fluid"};function A(e,r,n,t,o,a){const l=h("SearchMemberForm"),c=h("BaseTable");return u(),p("div",y,[s(l,{onSearch:a.handleSearch},null,8,["onSearch"]),s(c,{columns:o.columns,items:o.members,totalRecords:o.total,loading:o.loading,first:o.pagination.first,rowsPerPage:o.pagination.rows,sortField:o.pagination.sortField,sortOrder:o.pagination.sortOrder,onEdit:a.handleEdit,onDelete:a.handleDelete,onPageChange:a.handlePage,onSortChange:a.handleSort},null,8,["columns","items","totalRecords","loading","first","rowsPerPage","sortField","sortOrder","onEdit","onDelete","onPageChange","onSortChange"])])}const B=M(P,[["render",A]]);f(B);
